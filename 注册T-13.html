<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport">
	<title>TCL官方网站</title>

<!-- <link rel="stylesheet/less" type="text/css" href="less/header.less" />
<link rel="stylesheet/less" type="text/css" href="less/main.less" /> 
<script src="js/less.min.js" type="text/javascript"></script> -->
<link rel="stylesheet" href="less/header.css" />
<link rel="stylesheet" href="less/main.css" />
<link rel="stylesheet" href="less/common.css" />
<link rel="stylesheet" rel="stylesheet/css" type="text/css" href="less/widget/idangerous.swiper.css" />	
<script src="js/init.js"></script>
<style>


</style>
</head>
<body>
	<!-- Top html start -->
	<header class="header bor-bott">
		<img class="fl logo" src="img/logo.png" />
		<div class="fr w80">
			<div class="search">&#xe603</div>
			<div class="cart">&#xe61f</div>
			<div class="nav">&#xe608</div>		
		</div>
	</header>
	<!-- Top html end -->
<!--注册 start-->
	<div class="m-register reset-password">
		<h3>注册TCL账号</h3>
	<div class="m-register-item">
		<ul>
			<li class="bor-bott">
				<div class="item w90">
					<div class="icon fl">
						&#xe619
					</div>
					<input class="fl item-input contact w80" type="text" placeholder="请输入手机号或邮箱账号"/>
					<div class="icon fr clearinput hidden">
						&#xe62b
					</div>
				</div>
			</li>
			<li class="bor-bott">
				<div class="item w90">
					<div class="icon fl">
						&#xe631
					</div>
					<input class="fl item-input w45" type="text" placeholder="请输入验证码"/>
					<div class="fl w40 item-input-txt bor-left sendverycode">
						获取验证码
					</div>
				</div>
			</li>
			 <li class="bor-bott">
				<div class="item w90">
					<div class="icon fl">
						&#xe630
					</div>
					<input class="fl item-input w80" type="password" placeholder="请输入密码"/>
					<div class="icon passwordSee fr">
						&#xe628
					</div>
				</div>
			</li>	
		</ul>
		<div class="m-register-tip">
			密码长度8~16位，数字、字母、字符至少包含两种
		</div>
	</div>
	<div class="m-option-submit"> 注册 </div>
	</div>
<!--注册 end-->

<script type="text/javascript" src="js/zepto.min.js"></script>  
<script type="text/javascript">
  var countdown=60;	
  var val="60S后重发";
 $(function(){
 // 增加输入显示清除按钮	
   $(document).on('keyup', '.contact', function(){
   	if($(this).val().length>1){
   		$(this).parent().find('.clearinput').removeClass("hidden");
   	}else{
   		$(this).parent().find('.clearinput').addClass("hidden");
   	}
   });
//验证输入信息   
   $(document).on('click', '.clearinput', function(){
   	$(this).parent().find('.contact').val('');
   }); 	
   $(document).on('blur', '.contact', function(){
   	var contact=$(this).val();  
		if (!/^1[3|4|5|8][0-9]\d{4,8}$/.test(contact)&&!/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/.test(contact)){
				wait(1, "请输入正确的手机号码或邮箱账号", 2);
			}else{
				$('.sendverycode').addClass('active');
			}
  });
//倒计时功能
   $(document).on('click', '.sendverycode', function(){
   			var contact=$('.contact').val();

   			if (!/^1[3|4|5|8][0-9]\d{4,8}$/.test(contact)&&!/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/.test(contact)){
				wait(1, "请输入正确的手机号码或邮箱账号", 2);
			}else{	
				val	=this;		
				val.innerHTML=countdown+"S后重发";
				console.log(this.innerHTML);
				settime(val);
			}
   }); 
//密码可视处理   
      $(document).on('click', '.passwordSee', function(){
      	var input=$(this).parent().find('.item-input');
					if(input.attr("type") == 'text'){
						input.attr('type','password');
					}else{
					  input.attr('type','text');
					} 
      });
//注册按钮可按处理      
      $(document).on('keyup', 'input', function(){
      	var contact=$('.contact').val();
      	var verycode=$('.sendverycode').parent().find('.item-input').val().length;
      	var password=$('.passwordSee').parent().find('.item-input').val().length;
      	console.log(verycode);
      	if (!/^1[3|4|5|8][0-9]\d{4,8}$/.test(contact)&&!/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/.test(contact)){
			console.log(1);
			}else if(!verycode > 0){
				if($('.m-option-submit').hasClass('red')){
					$('.m-option-submit').removeClass('red');
				}	
			}else if(!password > 0){
				if($('.m-option-submit').hasClass('red')){
					$('.m-option-submit').removeClass('red');
				}		
			}else{
			$('.m-option-submit').addClass('red');
			}
      });
 })	
//倒计时功能
function settime(val) {
    if (countdown == 0) {
        val.innerHTML = "获取验证码";
        countdown = 60;
    } else {
        countdown--;
        val.innerHTML = countdown + "S后重发";
        setTimeout(function() {
            settime(val);
            this.innerHTML = val;
        },
        1000)

    }
}


function wait(type, content, delay) {
	if (!delay) {
		delay = 20;
	}
	if (!content) {
		content = "";
	}
	waitDialog = $("#waitDialog");
	waitDialog1 = $("#waitDialog1");
	if (waitDialog.length != 0) {
		clearTimeout(waitDialogTimeOut);
		waitDialog.remove();
		waitDialog1.remove();
	}
	if (type == 1) {
		waitDialog = $("<div class='mask'></div><div class='popup-w' id='waitDialog'><div class='box'><div class='icon-info'></div><p>" + content + "</p></div></div>");
	} else if (type == 2) {
		waitDialog = $("<div class='mask'><div class='popup-w' id='waitDialog'><div class='box'><div class='icon-succ'></div><p>" + content + "</p></div></div>");
	} else if (type == 3) {
		waitDialog = $("<div class='mask'><div class='popup-w' id='waitDialog' style='background: rgba(0, 0, 0, 0)'><div class='loading'><div class='loading-in'></div></div></div>");
	}
	if (type != 3) {
		waitDialog.click(function() {
			waitDialog.each(function(){
				$(this).remove();
			});
		});
	}
	$("body").append(waitDialog);
	waitDialogTimeOut = setTimeout(function() {
//		waitDialog.remove();
	}, delay * 1000);
}
window.closeWait = function() {
	try {
		waitDialog.remove();
	} catch (e) {
	}
}
</script>
</body>
</html>